<div class="calendar-modal">
  <div class="modal-header">
    <!-- https://stackoverflow.com/questions/53613974/angular7-and-ngbmodal-how-to-remove-default-auto-focus -->
    <h2 class="modal-title calendar-week-title" ngbAutofocus>availability</h2>
    <button type="button" class="btn-close" aria-label="Close" (click)="activeModal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <!-- <p>One fine body&hellip;</p> -->
    <div class="calendar-top">
      <div class="btn-group" role="group" aria-label="calendar-nav">
        <button 
          type="button" 
          class="btn btn-view-nav"
          value="previous"
          mwlCalendarPreviousView
          [view]="'week'"
          [(viewDate)]="viewDate"
        >&lt;</button>
        <button 
          type="button" 
          class="btn btn-view-nav"
          value="today"
          mwlCalendarToday
          [(viewDate)]="viewDate"
        >today</button>
        <button 
          type="button" 
          class="btn btn-view-nav"
          value="next"
          mwlCalendarNextView
          [view]="'week'"
          [(viewDate)]="viewDate"
        >&gt;</button>
      </div>
      <h2 class="calendar-week-info">{{ viewDate | calendarDate:('weekViewTitle') }}</h2>
    </div>
    <br />
    
    <ng-template
      #weekViewHourSegmentTemplate
      let-segment="segment"
      let-locale="locale"
      let-segmentHeight="segmentHeight"
      let-isTimeLabel="isTimeLabel"
    >
      <div
        #segmentElement
        class="cal-hour-segment"
        [style.height.px]="segmentHeight"
        [class.cal-hour-start]="segment.isStart"
        [class.cal-after-hour-start]="!segment.isStart"
        [ngClass]="segment.cssClass"
        (mousedown)="startDragToCreate(segment, $event, segmentElement)"
      >
        <div class="cal-time" *ngIf="isTimeLabel">
          {{ segment.date | calendarDate:'weekViewHour':locale }}
        </div>
      </div>
    </ng-template>
    
    <mwl-calendar-week-view
      [viewDate]="viewDate"
      [events]="events"
      [hourSegmentTemplate]="weekViewHourSegmentTemplate"
      [weekStartsOn]="weekStartsOn"
    >
    </mwl-calendar-week-view>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-light" (click)="activeModal.close('Close click')">cancel</button>
    <button type="button" class="btn btn-initiate-chat" (click)="initiateChat()">initiate chat</button>
  </div>
</div>